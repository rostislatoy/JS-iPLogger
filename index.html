<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#1A1717">
    <link rel="stylesheet" href="style.css">
    <meta name="theme-color" content="#000">
    <title>JellyFish-iP</title>
</head>
<body>
 <img class="logo" src="JellyFish-logo.png" alt="">
<header>
    <div class="search">
    <input class="search__input" type="text" id="input" tabindex="1" placeholder="0.0.0.0">
    <button class="search__button"id='btn' tabindex="2">Search</button>
    </div>
</header>
<div class="padding--box">
    <div class="output">
    <div class="total__box"><h4>Total </h4><span id="result"></span></div>
    <div class="total__box"><h4>Country </h4><span id="result2"></span></div>
    <div class="total__box"><h4>Country code </h4><span id="result3"></span></div>
    <div class="total__box"><h4>Region </h4><span id="result4"></span></div>
    <div class="total__box"><h4>Region name</h4><span id="result5"></span></div>
    <div class="total__box"><h4> City </h4><span id="result6"></span></div>
    <div class="total__box"><h4>ZIP </h4><span id="result7"></span></div>
    <div class="total__box"><h4>Lan  </h4><span id="result8"></span></div>
    <div class="total__box"><h4>Lon </h4><span id="result9"></span></div>
    <div class="total__box"><h4> Timezone</h4><span id="result10"></span></div>
    <div class="total__box"><h4> Query </h4><span id="result11"></span></div>
    </div> 
</div>
    <script>
        var result = document.getElementById("result");
var result2 = document.getElementById("result2");
var result3 = document.getElementById("result3");
var result4= document.getElementById("result4");
var result5 = document.getElementById("result5");
var result6 = document.getElementById("result6");
var result7 = document.getElementById("result7");
var result8 = document.getElementById("result8");
var result9 = document.getElementById("result9");
var result10 = document.getElementById("result10");
var result11 = document.getElementById("result11");
var input = document.getElementById("input");
var btn = document.getElementById("btn");
const header = document.querySelector('header')







btn.addEventListener("click", function(){
    const ip = input.value
    const requestURL = `http://ip-api.com/json/${ip}`
    header.classList.add('active')


function sendRequest(method, url) {
const headers = {
'Content-Type': 'application/json'
}

return fetch(url, {
method: method,
headers: headers
}).then(response => {
if (response.ok) {
  return response.json()
}

return response.json().then(error => {
  const e = new Error('Что-то пошло не так')
  e.data = error
  throw e
})
})
}
sendRequest('GET', requestURL)
.then(data => {
const arrayOfData = [data.status, data.country, 
data.countryCode, data.region, data.regionName, data.city, data.zip, data.lat, data.lon, data.timezone, data.query]
result.innerHTML = `${arrayOfData[0]}`
result2.innerHTML = `${arrayOfData[1]}`
result3.innerHTML = `${arrayOfData[2]}`
result4.innerHTML = `${arrayOfData[3]}`
result5.innerHTML = `${arrayOfData[4]}`
result6.innerHTML = `${arrayOfData[5]}`
result7.innerHTML = `${arrayOfData[6]}`
result8.innerHTML = `${arrayOfData[7]}`
result9.innerHTML = `${arrayOfData[8]}`
result10.innerHTML = `${arrayOfData[9]}`
result11.innerHTML = `${arrayOfData[10]}`
console.log(arrayOfData.map(String))

})
.catch(err => result.innerHTML= err)
})

console.log(result)

    </script>
</body>
</html>
